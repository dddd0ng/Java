<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Document</title>
</head>

<body>

    <!-- 
    v-for: 배열을 기준으로 목록을 렌더렁하는 지시문(directive)이다.
    배열의 각 항목에 대해 반복적으로 요소를 생성한다.
    -->
    <div id="step01">
        <h5>과일가게</h5>
        <ul>
            <li v-for="item in items">{{ item }}</li>
        </ul>
    </div>

    <!-- 객체를 기준으로 사용 할 수 있으면 객체가 가진 프로퍼티를 순회하며 활용할 수 있다 -->

    <!-- #step02 =========> <div id="step02">-->

    <div id="step02">
        <ul>
            <li v-for="info in profile">
                {{info}}
            </li>

            <!-- property key, index값 뽑아내깅 -->
            <!-- v-for의 ()에 쓰는 값은 순서를 지켜야 한다. -->
            <li v-for="(value,key,index) in profile">
                {{index}}:{{key}}:{{value}}

            </li>

        </ul>

    </div>


    <!-- 
    별도의 data없이 범위만 있는 loop 렌더링
    (지시자가 작동되게 하려면 뷰 인스턴스는 필요하다.)
    -->
    <div id="step03">
        <ul>
            <li v-for="n in 10">{{n}}</li>
        </ul>

    </div>


    <!-- 반복과 조건을 같이 할 땐 가급적 template을 활용해서 다른 태도 형태로 구현할것-->
    <div id="step04">
        <ul>

            <!-- v-for, v-if를 한줄에 못쓰게 설계해뒀음 -->
            <!-- v-if item 이 인식이 안됨. -->

            <template v-for="item in items">
                <li v-if="item.state">
                    {{item.name}}
                </li>
            </template>
        </ul>
    </div>



    <!--
        :key
        Vue가 렌더링된 요소 목록을 업데이트 할 때 v-for는 기본적으로 반복되어 나온 DOM 요소들 전체를 확인하게 된다. 
        이 때 Vue가 각 노드의 id를 추적할 수 있도록 힌트를 주고 기존 요소를 재사용하여 순서를 변경함에 있어 
        용이하게 하기 위해서 key라는 정보를 제공하면 성능상 이점을 가져갈 수 있다. 
        (사실상 반복문에서 필수로 적게 된다.)
    -->
    <div id="step05">
        <div v-for="item in items" :key="item.id">
            {{ item.id }} - {{ item.name }}
        </div>
    </div>



    </div>

    <script>
        const { createApp, ref, reactive } = Vue;

        createApp({
            setup() {
                const items = ref(['사과', '바나나', '오렌지', '포도', '수박']);
                return {
                    items
                }
            }
        }).mount("#step01");


        createApp({
            setup() {
                // 배열이 아니라 객체를 줘보기

                const profile = reactive({
                    name: '홍길동',
                    address: '서울시 강남구',
                    introduction: '안녕하세요 홍길동입니다.'

                })
                return {
                    profile
                }
            }
        }).mount("#step02");



        createApp({
            setup() {

                return {

                }
            }
        }).mount("#step03");



        createApp({
            setup() {
                const items = ref([
                    { name: '사과', state: true },
                    { name: '바나나', state: false },
                    // 보기 싫으면 false
                    { name: '오렌지', state: true },
                    { name: '포도', state: false },
                    // 보기 싫으면 false
                    { name: '수박', state: true }
                ]);
                return {
                    items
                }
            }
        }).mount("#step04");



        createApp({
            setup() {
                const items = ref([
                    { id: 1, name: '사과' },
                    { id: 2, name: '바나나' },
                    { id: 3, name: '오렌지' },
                    { id: 4, name: '포도' },
                    { id: 5, name: '수박' }
                ]);
                return {
                    items
                }
            }
        }).mount("#step01");


    </script>
</body>

</html>